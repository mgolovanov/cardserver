<!doctype html>
<html lang="en">
<head>
    <title>Code coverage report for Cards.mjs</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="prettify.css" />
    <link rel="stylesheet" href="base.css" />
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type='text/css'>
        .coverage-summary .sorter {
            background-image: url(sort-arrow-sprite.png);
        }
    </style>
</head>
<body>
<div class='wrapper'>
  <div class='pad1'>
    <h1>
      <a href="index.html">All files</a> Cards.mjs
    </h1>
    <div class='clearfix'>
      <div class='fl pad1y space-right2'>
        <span class="strong">71.15% </span>
        <span class="quiet">Statements</span>
        <span class='fraction'>74/104</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">48.65% </span>
        <span class="quiet">Branches</span>
        <span class='fraction'>18/37</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">56.25% </span>
        <span class="quiet">Functions</span>
        <span class='fraction'>9/16</span>
      </div>
      <div class='fl pad1y space-right2'>
        <span class="strong">71.15% </span>
        <span class="quiet">Lines</span>
        <span class='fraction'>74/104</span>
      </div>
    </div>
  </div>
  <div class='status-line medium'></div>
<pre><table class="coverage">
<tr><td class="line-count quiet">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</td><td class="line-coverage quiet"><span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-yes">26x</span>
<span class="cline-any cline-yes">26x</span>
<span class="cline-any cline-yes">14x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">3x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-yes">24x</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">6x</span>
<span class="cline-any cline-yes">20x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">8x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">4x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">1x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-yes">5x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-yes">2x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-yes">10x</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-no">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span>
<span class="cline-any cline-neutral">&nbsp;</span></td><td class="text"><pre class="prettyprint lang-js">/* jshint esversion: 6 */
&nbsp;
import { bitlength, cut, randomSelection, randomRange } from './helpers';
&nbsp;
const MAX_CARDS       = 52;
&nbsp;
// Second bit denotes the color
const CARD_SPADES     = 0; // â™  - black
const CARD_CLUBS      = 1; // â™£ - black
const CARD_HEARTS     = 2; // â™¥ - red
const CARD_DIAMONDS   = 3; // â™¦ - red
&nbsp;
const CARD_VALUE_MAX  = 13;
&nbsp;
const CardEncoding    = ["A", "N", "a", "n"];
const CardValueNames  = ["Ace", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Jack", "Queen", "King"];
const CardSuitNames   = ["Spades", "Clubs", "Hearts", "Diamonds"];
&nbsp;
const CardGraphics          = [];
CardGraphics[CARD_SPADES]   = Array.from('ğŸ‚¡ğŸ‚¢ğŸ‚£ğŸ‚¤ğŸ‚¥ğŸ‚¦ğŸ‚§ğŸ‚¨ğŸ‚©ğŸ‚ªğŸ‚«ğŸ‚¬ğŸ‚­ğŸ‚®'); // â™ 
CardGraphics[CARD_HEARTS]   = Array.from('ğŸ‚±ğŸ‚²ğŸ‚³ğŸ‚´ğŸ‚µğŸ‚¶ğŸ‚·ğŸ‚¸ğŸ‚¹ğŸ‚ºğŸ‚»ğŸ‚¼ğŸ‚½ğŸ‚¾'); // â™¥
CardGraphics[CARD_DIAMONDS] = Array.from('ğŸƒğŸƒ‚ğŸƒƒğŸƒ„ğŸƒ…ğŸƒ†ğŸƒ‡ğŸƒˆğŸƒ‰ğŸƒŠğŸƒ‹ğŸƒŒğŸƒğŸƒ'); // â™¦
CardGraphics[CARD_CLUBS]    = Array.from('ğŸƒ‘ğŸƒ’ğŸƒ“ğŸƒ”ğŸƒ•ğŸƒ–ğŸƒ—ğŸƒ˜ğŸƒ™ğŸƒšğŸƒ›ğŸƒœğŸƒğŸƒ'); // â™£
&nbsp;
const SuitGraphics          = [];
SuitGraphics[CARD_SPADES]   = 'â™ ';
SuitGraphics[CARD_HEARTS]   = 'â™¥';
SuitGraphics[CARD_DIAMONDS] = 'â™¦';
SuitGraphics[CARD_CLUBS]    = 'â™£';
&nbsp;
export class Card {
&nbsp;
    /**
     * Construct card object from hash code.
     * @param {number} code Code (number) or String
     */
    constructor(code) {
        <span class="missing-if-branch" title="else path not taken" >E</span>if (typeof code !== 'number')
        {
            code = code.charCodeAt(0);
        }
        this.code  = code;
        let obj = Card.decode(code);
        this.suit  = obj.suit;
        this.value = obj.value;
    }
&nbsp;
    /**
     * Encode Card object into card hash code.
     * @param {*} suit      Card suit or Card object {.value, .suit}
     * @param {*} value     Card value or empty if 1st parameter is Card object
     * @returns {string}    Card hash code
     */
<span class="fstat-no" title="function not covered" >    st</span>atic encode(suit, value = <span class="branch-0 cbranch-no" title="branch not covered" >0)</span> {
        let _suit = <span class="cstat-no" title="statement not covered" >suit;</span>
<span class="cstat-no" title="statement not covered" >        if (typeof suit === 'object') {</span>
<span class="cstat-no" title="statement not covered" >            value = suit.value;</span>
<span class="cstat-no" title="statement not covered" >            _suit = suit.suit;</span>
        }
<span class="cstat-no" title="statement not covered" >        return CardEncoding[_suit].charCodeAt(0) + value;</span>
    }
&nbsp;
    /**
     * Decode the card object from card hash code
     * @param {number} code Card hash code
     * @returns {object}    Card object
     */
    static decode(code) {
        for (let i = 0; i &lt; CardEncoding.length; i++) {
            let base = CardEncoding[i].charCodeAt(0);
            if ((base &lt;= code) &amp;&amp; (code &lt; base+CARD_VALUE_MAX))
                return {
                    "suit": i,
                    "value": (code-base)
                };
        }
<span class="cstat-no" title="statement not covered" >        throw RangeError(`Invalid card code: ${code}`);</span>
    }
&nbsp;
    /**
     * Card label
     * @param {*} suit        Card object | Card suit
     * @param {number} value  Empty       | Card Value
     * @returns {string}      Card label
     */
    static label(suit, value = 0) {
        let _suit = suit;
        <span class="missing-if-branch" title="else path not taken" >E</span>if (typeof suit === 'object') {
            value = suit.value;
            _suit = suit.suit;
        }
        return CardValueNames[value] + " of " + CardSuitNames[_suit];
    }
&nbsp;
    /**
     * Card glyph
     * @param {*} suit          Card object | Card suit
     * @param {number} value    Empty       | Card Value
     * @returns {string}        Card glyph
     */
    static glyph(suit, value = 0)
    {
        let _suit = suit;
        <span class="missing-if-branch" title="else path not taken" >E</span>if (typeof suit === 'object') {
            value = suit.value;
            _suit = suit.suit;
        }
        return CardGraphics[_suit][value];
    }
&nbsp;
}
&nbsp;
export class CardDeck {
&nbsp;
<span class="fstat-no" title="function not covered" >    ge</span>t length() { <span class="cstat-no" title="statement not covered" >return this.items.length; </span>}
&nbsp;
    /**
     * Construct a card deck using array of items, hashcode or generate a random deck.
     * @param {object} param1 Array of card items OR hash code (String) of the deck
     */
    constructor(param1 = <span class="branch-0 cbranch-no" title="branch not covered" >0)</span> {
        this.popItems = [];
        if (Array.isArray(param1)) {
            this.items = param1;
            this.hash = this.hashCode;
        } else {
            <span class="missing-if-branch" title="else path not taken" >E</span>if (param1 !== 0) {
                this.fromHash(param1);
            } else {
                // random deck
                let deck = <span class="cstat-no" title="statement not covered" >CardDeck.randomDeck();</span>
                /* TODO: [MG] - better way to avoid the assign, pass by ref? */
<span class="cstat-no" title="statement not covered" >                this.items = deck.items;</span>
<span class="cstat-no" title="statement not covered" >                this.hash  = deck.hash;</span>
            }
        }
    }
&nbsp;
    /**
     * Convert card deck from collection of items to hashcode.
     */
    get hashCode() {
        let hashValue = [];
        for(let item of this.items)
            hashValue.push(String.fromCharCode(item.code));
        if (this.popItems.length)
        {
            hashValue.push('-');
            for(let item of this.popItems)
                hashValue.push(String.fromCharCode(item.code) );
        }
        return hashValue.join("");
    }
&nbsp;
    get glyphs()
    {
        let result = [];
        for(let item of this.items)
            result.push(Card.glyph(item));
        console.log("popItems: ", this.popItems);
        <span class="missing-if-branch" title="if path not taken" >I</span>if (this.popItems.length)
        {
<span class="cstat-no" title="statement not covered" >            result.push('-');</span>
<span class="cstat-no" title="statement not covered" >            for(let item of this.popItems)</span>
<span class="cstat-no" title="statement not covered" >                result.push(Card.glyph(item));</span>
        }
        return result.join('');
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    sh</span>uffle()
    {
<span class="cstat-no" title="statement not covered" >        this.items = randomSelection(this.items, this.items.length);</span>
    }
&nbsp;
    /**
     * Cut the card deck at given position.
     * @param {integer} pos Position to cut at
     */
<span class="fstat-no" title="function not covered" >    cu</span>tAt(pos)
    {
<span class="cstat-no" title="statement not covered" >        this.items = cut(this.items, pos);</span>
<span class="cstat-no" title="statement not covered" >        this.hash  = this.hashCode;</span>
    }
&nbsp;
    pop(count = 1)
    {
        let result = this.items.splice(this.items.length-count, count);
        this.popItems = this.popItems.concat(result);
        console.log("pop", this.popItems);
        this.hash = this.hashCode; // recalculate hash
        console.log("hashCode = ", this.hash);
        return result;
    }
&nbsp;
    /**
     * Internal method to populate card deck object from hash.
     * @param {string} hashValue Card deck hash
     */
    fromHash(hashValue) {
        this.hash = hashValue;
        this.items = [];
        this.popItems = [];
        let chars = hashValue.split('');
        let stage = 0;
        for(let i=0; i&lt;chars.length; i++)
        {
            <span class="missing-if-branch" title="if path not taken" >I</span>if (chars[i]==='-')
            {
<span class="cstat-no" title="statement not covered" >                stage++;</span>
<span class="cstat-no" title="statement not covered" >                continue;</span>
            }
            // main set of cards
            <span class="missing-if-branch" title="else path not taken" >E</span>if (stage===0)
                this.items.push(new Card(chars[i]));
            else
            // cards that have been already dealt to the user
<span class="cstat-no" title="statement not covered" >            if (stage===1)</span>
<span class="cstat-no" title="statement not covered" >                this.popItems.push(new Card(chars[i]));</span>
        }
    }
&nbsp;
<span class="fstat-no" title="function not covered" >    st</span>atic decode(hashValue)
    {
<span class="cstat-no" title="statement not covered" >        return new CardDeck(hashValue);</span>
    }
&nbsp;
    /**
     * Obtains default complete ordered card deck.
     * @returns {object} CardDeck New default-ordered 'full' card deck
     */
<span class="fstat-no" title="function not covered" >    st</span>atic defaultDeck() {
        let items = <span class="cstat-no" title="statement not covered" >[];</span>
<span class="cstat-no" title="statement not covered" >        for (let i = 0; i &lt; CARD_DIAMONDS + 1; i++)</span>
<span class="cstat-no" title="statement not covered" >            for (let j = 0; j &lt; CARD_VALUE_MAX; j++)</span>
<span class="cstat-no" title="statement not covered" >                items.push(new Card(Card.encode(i, j)));</span>
<span class="cstat-no" title="statement not covered" >        return new CardDeck(items);</span>
    }
&nbsp;
    /**
     * Generates a random card deck.
     * @param {*} customDeck      Custom card deck to choose cards from.
     * @param {number} deckSize   Card deck size (optional)
     * @returns {object} CardDeck New random card deck.
     */
<span class="fstat-no" title="function not covered" >    st</span>atic randomDeck(customDeck = <span class="branch-0 cbranch-no" title="branch not covered" >0,</span> deckSize = <span class="branch-0 cbranch-no" title="branch not covered" >0)</span> {
        let items = <span class="cstat-no" title="statement not covered" >(customDeck === 0) ? CardDeck.defaultDeck().items : customDeck;</span>
<span class="cstat-no" title="statement not covered" >        deckSize = (deckSize === 0) ? items.length : deckSize;</span>
<span class="cstat-no" title="statement not covered" >        items = randomSelection(items, deckSize);</span>
<span class="cstat-no" title="statement not covered" >        return new CardDeck(items);</span>
    }
&nbsp;
}
&nbsp;</pre></td></tr>
</table></pre>
<div class='push'></div><!-- for sticky footer -->
</div><!-- /wrapper -->
<div class='footer quiet pad2 space-top1 center small'>
  Code coverage
  generated by <a href="https://istanbul.js.org/" target="_blank">istanbul</a> at Thu Oct 11 2018 00:52:54 GMT-0700 (Pacific Daylight Time)
</div>
</div>
<script src="prettify.js"></script>
<script>
window.onload = function () {
        if (typeof prettyPrint === 'function') {
            prettyPrint();
        }
};
</script>
<script src="sorter.js"></script>
</body>
</html>
